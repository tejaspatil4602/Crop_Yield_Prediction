<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="1000" xmlns="http://www.w3.org/2000/svg">
    <!-- Styles -->
    <style>
        .box { fill: white; stroke: black; stroke-width: 2; }
        .diamond { fill: white; stroke: black; stroke-width: 2; }
        .arrow { stroke: black; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
        .text { font-family: Arial; font-size: 14px; text-anchor: middle; }
    </style>

    <!-- Arrow marker definition -->
    <defs>
        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="black"/>
        </marker>
    </defs>

    <!-- Start -->
    <rect x="350" y="20" width="100" height="40" rx="20" class="box"/>
    <text x="400" y="45" class="text">Start</text>

    <!-- Login Attempt -->
    <rect x="300" y="100" width="200" height="40" class="box"/>
    <text x="400" y="125" class="text">User Login Attempt</text>

    <!-- Input Validation -->
    <rect x="300" y="180" width="200" height="40" class="box"/>
    <text x="400" y="205" class="text">Input Validation</text>

    <!-- Credentials Check -->
    <path d="M 300 280 L 500 280 L 400 330 L 300 280" class="diamond"/>
    <text x="400" y="295" class="text">Valid</text>
    <text x="400" y="310" class="text">Credentials?</text>

    <!-- Error Message -->
    <rect x="550" y="260" width="150" height="40" class="box"/>
    <text x="625" y="285" class="text">Error Message</text>

    <!-- Generate Token -->
    <rect x="300" y="370" width="200" height="40" class="box"/>
    <text x="400" y="395" class="text">Generate Auth Token</text>

    <!-- Create Session -->
    <rect x="300" y="450" width="200" height="40" class="box"/>
    <text x="400" y="475" class="text">Create User Session</text>

    <!-- Store Session -->
    <rect x="300" y="530" width="200" height="40" class="box"/>
    <text x="400" y="555" class="text">Store Session Data</text>

    <!-- Session Check -->
    <path d="M 300 610 L 500 610 L 400 660 L 300 610" class="diamond"/>
    <text x="400" y="625" class="text">Session</text>
    <text x="400" y="640" class="text">Valid?</text>

    <!-- Session Renewal -->
    <rect x="550" y="590" width="150" height="40" class="box"/>
    <text x="625" y="615" class="text">Renew Session</text>

    <!-- Access Granted -->
    <rect x="300" y="700" width="200" height="40" class="box"/>
    <text x="400" y="725" class="text">Access Granted</text>

    <!-- Logout -->
    <rect x="300" y="780" width="200" height="40" class="box"/>
    <text x="400" y="805" class="text">User Logout</text>

    <!-- End -->
    <rect x="350" y="860" width="100" height="40" rx="20" class="box"/>
    <text x="400" y="885" class="text">End</text>

    <!-- Arrows -->
    <path d="M 400 60 L 400 100" class="arrow"/>
    <path d="M 400 140 L 400 180" class="arrow"/>
    <path d="M 400 220 L 400 280" class="arrow"/>
    <path d="M 500 280 L 550 280" class="arrow"/>
    <path d="M 700 280 L 700 125 L 500 125" class="arrow"/>
    <path d="M 400 330 L 400 370" class="arrow"/>
    <path d="M 400 410 L 400 450" class="arrow"/>
    <path d="M 400 490 L 400 530" class="arrow"/>
    <path d="M 400 570 L 400 610" class="arrow"/>
    <path d="M 500 610 L 550 610" class="arrow"/>
    <path d="M 700 590 L 700 475 L 500 475" class="arrow"/>
    <path d="M 400 660 L 400 700" class="arrow"/>
    <path d="M 400 740 L 400 780" class="arrow"/>
    <path d="M 400 820 L 400 860" class="arrow"/>

    <!-- Yes/No Labels -->
    <text x="380" y="355" class="text">Yes</text>
    <text x="520" y="270" class="text">No</text>
    <text x="380" y="685" class="text">Yes</text>
    <text x="520" y="600" class="text">No</text>
</svg>